{% extends '@Gui/Layout/layout.twig' %}

{% set widget_title = 'Manage Attributes' %}
{% block section_title %}{{ widget_title }}{% endblock %}

{% block action %}
    {{ backActionButton(url('/product-management'), 'Back to List' | trans) }}
{% endblock %}

{% block content %}
    <table class="table table-striped table-bordered table-hover gui-table-data" id="selectedProductsTable" data-paging="false">
        <thead>
        <tr>
            <th>id</th>
            <th>key</th>
            <th>value</th>
            {% for localeCode,localeTransfer in locales %}
                <th>{{ 'value [' ~ localeCode }}]</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for attribute in attributes %}
            <tr>
                <td>{{ attribute.id_product_attribute_key }}</td>
                <td>{{ attribute.key }}</td>
                {% set managementAttribute = attribute.SpyProductManagementAttributes[0]  %}
                {% set managementAttributeValueCollection = managementAttribute.SpyProductManagementAttributeValues  %}
                {% for managementAttributeValue in managementAttributeValueCollection %}
                    <td>{{ managementAttributeValue.value }}</td>
                    {% set translationCollection = managementAttributeValue.SpyProductManagementAttributeValueTranslations  %}
                    {% for translation in translationCollection if translation is not empty %}
                        <td>{{ translation.translation }}</td>
                    {% endfor %}
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}

{% block footer_js %}
    {{ parent() }}
    <script src="/assets/js/spryker-zed-productmanagement-attribute.js"></script>
{% endblock %}

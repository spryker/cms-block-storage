{% extends '@Gui/Layout/layout.twig' %}

{% set widget_title = 'Manage Attributes for Product [' ~ product.sku  ~ ']' %}
{% block section_title %}{{ widget_title }}{% endblock %}

{% block action %}
    {{ viewActionButton(url('/product-management/view/variant?id-product-abstract=' ~ productAbstract.idProductAbstract ~ '&id-product=' ~ product.idProductConcrete), 'View Product' | trans) }}
    {{ backActionButton(url('/product-management/edit?id-product-abstract=' ~ productAbstract.idProductAbstract ~ '#tab-content-variants'), 'Back to List' | trans) }}
{% endblock %}

{% block content %}

    {% include '@ProductAttributeGui/View/_partials/json-data.twig' with {
    productAttributeValuesJson: productAttributeValuesJson,
    metaAttributesJson: metaAttributesJson,
    localesJson: localesJson
    } %}

    {% include '@ProductAttributeGui/View/_partials/add-attribute-form.twig' with {
    form: attributeKeyForm
    } %}

    {% embed '@Gui/Partials/widget.twig' with { widget_title: 'Attributes' } %}
        {% block widget_content %}
            {% include '@ProductAttributeGui/View/_partials/attribute-table.twig' with {
                formActionUrl: '/product-attribute-gui/save/product',
                locales: locales,
                productAttributeValues: productAttributeValues,
                metaAttributes: metaAttributes,
                idProductAbstract: product.fkProductAbstract,
                idProductConcrete: product.idProductConcrete
            } %}
        {% endblock %}
    {% endembed %}

    <input type="button" class="btn btn-primary" value="{{ 'Save' | trans }}" id="saveButton" />

{% endblock %}

{% block footer_js %}
    {{ parent() }}
    <script src="/assets/js/spryker-zed-productattributegui-main.js"></script>
{% endblock %}
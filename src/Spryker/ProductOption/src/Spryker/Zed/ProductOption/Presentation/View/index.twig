{% extends '@Gui/Layout/layout.twig' %}

{% block section_title 'View product option' | trans %}

{% block action %}

    {{ editActionButton(url('/product-option/edit/index', {'id-product-option-group': productOptionGroup.idProductOptionGroup}), 'Edit' | trans) }}

    {% set redirectUrl = url('/product-option/view/index/', {'id-product-option-group' : productOptionGroup.idProductOptionGroup }) %}
    {% if productOptionGroup.active == true  %}
        {{ removeActionButton(url('/product-option/index/toggle-active', {'id-product-option-group' : productOptionGroup.idProductOptionGroup, 'active': '0', 'redirect-url': redirectUrl}), 'Deactivate' | trans) }}
    {% else %}
        {{ viewActionButton(url('/product-option/index/toggle-active', {'id-product-option-group' : productOptionGroup.idProductOptionGroup, 'active': '1', 'redirect-url': redirectUrl}), 'Activate' | trans) }}
    {% endif %}

    {{ backActionButton('/product-option/list/index', 'List of product options' | trans) }}

{% endblock %}

{% block content %}

    {% embed '@Gui/Partials/widget.twig' with { widget_title: 'General information' } %}
        {% block widget_content %}

            <p>
                <strong>{{ 'Group name translation key' | trans }}</strong>: {{ productOptionGroup.name }}
            </p>

            <p>
                <strong>{{ 'Tax set' | trans }}</strong>: {{ taxSet.name }}
            </p>

            <p>
                <strong>{{ 'Created at' | trans }}</strong>: {{ productOptionGroup.createdAt | formatDateTime }}
            </p>

            <p>
                <strong>{{ 'Updated at' | trans }}</strong>: {{ productOptionGroup.updatedAt | formatDateTime}}
            </p>

            <table class="table">
                <tr>
                    <th>{{ "Translation key" | trans }}</th>
                    <th>{{ "Sku" | trans }}</th>
                    <th>{{ "Price" | trans }}</th>
                </tr>
                {% for optionValue in productOptionGroup.productOptionValues %}
                    <tr>
                        <td>{{ optionValue.value }}</td>
                        <td>{{ optionValue.Sku }}</td>
                        <td>{{ optionValue.price | currency }}</td>
                    </tr>
                {% endfor %}
            </table>


        {% endblock %}
    {% endembed %}

    {% embed '@Gui/Partials/widget.twig' with { widget_title: 'Translations' } %}
        {% block widget_content %}
            <div class="tabPane">
                <div class="tabs-container translation-tabs">
                    <div class="tabs-left">
                        <ul class="nav nav-tabs">
                            {% for locale in availableLocales %}
                                <li {{ loop.first ? 'class="active"'  : '' }}>
                                    <a data-toggle="tab" class="tab-item" href="#tab-{{ locale.localeName }}">{{ locale.localeName }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                        <div class="tab-content">
                            {% for locale in availableLocales %}
                                <div id="tab-{{ locale.localeName }}" class="tab-pane {{ loop.first ? 'active'  : '' }}">
                                    <div class="panel-body">

                                        {% for groupNameTranslation in productOptionGroup.groupNameTranslations %}
                                            {% if groupNameTranslation.localeCode == locale.localeName  %}
                                                <p>
                                                    <strong>{{ 'Group name' | trans  }} ({{ groupNameTranslation.key }})</strong> : {{ groupNameTranslation.name }}
                                                </p>
                                            {% endif %}
                                        {% endfor %}


                                        {% for valueTranslation in productOptionGroup.productOptionValueTranslations %}
                                            {% if valueTranslation.localeCode == locale.localeName  %}
                                                <p>
                                                    <strong>{{ 'Name' | trans  }} ({{ valueTranslation.key }})</strong> : {{ valueTranslation.name }}
                                                </p>
                                            {% endif %}
                                        {% endfor %}

                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        {% endblock %}
    {% endembed %}

    {% embed '@Gui/Partials/widget.twig' with { widget_title: 'Products with this option' } %}
        {% block widget_content %}
            {{ productOptionsTable | raw }}
        {% endblock %}
    {% endembed %}

{% endblock %}

{% block head_css %}
    {{ parent() }}
    <link rel="stylesheet" href="/assets/css/spryker-zed-product-option-main.css">
{% endblock %}

{% block footer_js %}
    {{ parent() }}
{% endblock %}


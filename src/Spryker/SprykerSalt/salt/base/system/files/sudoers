###############################################################################
##       This file is managed by saltstack - DO NOT MANUALLY CHANGE IT       ##
###############################################################################

### Project A sudo configuration

Defaults        env_reset
Defaults        exempt_group=adm
Defaults        secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"

# Host alias specification

# User alias specification

# Cmnd alias specification
# Yves&Zed application specific - allow deployment, remove lock, restart php
Cmnd_Alias APP    = /etc/deploy/deploy.rb *, \
					/bin/rm -f /data/deploy/.lock.production, \
					/bin/rm -f /data/deploy/.lock.staging, \
					/bin/rm -f /data/deploy/.lock.testing, \
					/etc/init.d/php5-fpm restart

# User privilege specification
root  ALL=(ALL) ALL

# Allow members of group adm to execute any command, without password authentication
%adm  ALL=(ALL) NOPASSWD:ALL

# Allow members of group dev to execute specified APP commands, without password authentication
%dev  ALL=(root) NOPASSWD:APP

# Allow members of group sudo to execute any command, with password authentication
%sudo ALL=(ALL) ALL

# Rackspace support - don't remove for managed VM's - allow to execute any command without password authentication
rack  ALL=(ALL) NOPASSWD: ALL

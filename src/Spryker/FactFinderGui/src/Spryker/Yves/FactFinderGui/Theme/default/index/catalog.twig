<div class="row">
    <div class="small-12 medium-12 large-4 xlarge-3 columns">
        <input id="catalog-filters" type="checkbox" class="__toggler __no-margin-bottom hide" checked>
        <div class="callout hide-for-large">
            <label for="catalog-filters" class="button hollow expanded __no-margin-bottom">
                <i class="fa fa-filter"></i> Show/Hide filters
            </label>
        </div>
        <div class="__toggler-target">
            {% include '@FactFinderGui/layout/catalog/filters.twig' with {
                afterSearchNavigation: searchResponse.getAfterSearchNavigation
            } %}
        </div>
    </div>

    <div class="small-12 medium-12 large-8 xlarge-9 columns">

        {% include '@FactFinderGui/layout/partials/sort.twig' %}

        {% include '@FactFinderGui/index/partials/pagination.twig' %}

        <div class="row">
            {% for record in searchResponse.result.records %}
                <div class="small-12 medium-6 large-6 xlarge-4 columns">
                        {#detailsUrl: record.fields.ProductURL,#}
                        {#detailsUrl: url('fact-finder-product-detail', {'factfinder':'fact-finder', 'sku':record.fields.AbstractUrl|slice(3) }),#}
                        {#detailsUrl: record.fields.AbstractUrl|slice(3),#}

                    {% include "@FactFinderGui/layout/catalog/product.twig" with {
                        detailsUrl: record.fields.ProductURL,
                        name: record.fields.Name,
                        priceValue: record.fields.Price,
                        imageUrl: record.fields.ImageURL,
                        trackInfo: {
                            id: record.id,
                            event: 'click',
                            query: query,
                            pos: record.position,
                            origPos: record.position,
                            page: page != null ? page : 1,
                            origPageSize: searchResponse.result.records | length
                        }
                    } %}
                </div>
            {% endfor %}
        </div>

        {% include '@FactFinderGui/index/partials/pagination.twig' %}

    </div>
</div>

{% if searchString is defined and searchString != '' %}
    <input type="hidden" name="query" value="{{ searchString }}" />
{% endif %}
